{% extends 'base.html' %}

{% block title %}
  视频解析工具
{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/video_parse.css') }}" />
{% endblock %}

{% block content %}
  <div class="dashboard-container">
    <!-- 主内容区 -->
    <main class="main-content" id="mainContent">
      <!-- 顶栏 -->
      <header class="top-navbar">
        <div class="navbar-container">
          <div class="left-section">
            <div class="project-logo" id="projectLogo">
              <div class="logo-circle">Z</div>
              <span>ZZH-Tool</span>
            </div>
          </div>

          <div class="right-section">
            <div class="user-dropdown" id="userDropdown">
              <div class="user-info" id="userInfo">
                <div class="user-avatar-text">{{ user_info.username|first|upper }}</div>
                <span>{{ user_info.username }}</span>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- 视频解析内容 -->
      <div class="dashboard-content">
        <div class="video-parse-container">
          <div class="parse-header">
            <h2><i class="fas fa-film"></i> Bilibili解析工具</h2>
          </div>

          <div class="parse-card">
            <div class="parse-form">
              <div class="input-group">
                <input type="text" id="videoUrl" placeholder="请输入视频链接 (例如: https://www.bilibili.com/video/BV1xx411c7Xg)" autocomplete="off" />
                <button id="parseBtn" class="btn-parse"><i class="fas fa-play"></i> 解析视频</button>
              </div>
            </div>

            <div class="parse-result" id="parseResult">
              <div class="result-placeholder">
                <div class="placeholder-icon">
                  <i class="fas fa-cloud-download-alt"></i>
                </div>
                <p>输入视频链接并点击"解析视频"按钮</p>
              </div>
            </div>
          </div>

          <div class="usage-guide">
            <h3><i class="fas fa-question-circle"></i> 使用指南</h3>
            <ol>
              <li>复制您想下载的视频链接</li>
              <li>将链接粘贴到上方输入框中</li>
              <li>点击"解析视频"按钮，等待解析完成</li>
              <li>选择视频和音频格式，下载视频</li>
            </ol>
            <div class="note">
              <p>
                <strong>注意：</strong>请遵守平台使用条款，仅下载允许下载的内容。本工具仅用于学习目的。
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- JavaScript文件 -->
  <script src="{{ url_for('static', filename='js/video_parse.js') }}"></script>
{% endblock %}
