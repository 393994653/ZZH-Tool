{% extends 'base.html' %}

{% block title %}
网址导航
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}" />
<link href="https://cdn.jsdelivr.net/npm/qweather-icons@1.8.0/font/qweather-icons.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="dashboard-container">
  <!-- 侧边栏 -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="logo">Z</div>
      <h2>ZZH-Tool</h2>
    </div>

    <nav class="sidebar-nav">
      <ul>
        <li>
          <a href="/dashboard" class="nav-item">
            <i class="fas fa-home"></i>
            <span>仪表盘首页</span>
          </a>
        </li>
        <li>
          <a href="http://zhenghao.x3322.net:33000" class="nav-item">
            <i class="fa-regular fa-comments"></i>
            <span>在线聊天</span>
          </a>
        </li>
        <li>
          <a href="http://zhenghao.x3322.net:32283" class="nav-item">
            <i class="fa-regular fa-images"></i>
            <span>相册管理</span>
          </a>
        </li>
        <li>
          <a href="http://zhenghao.x3322.net:32507" class="nav-item">
            <i class="fas fa-cloud"></i>
            <span>个人网盘</span>
          </a>
        </li>
        <li>
          <a href="http://zhenghao.x3322.net:38083" class="nav-item">
            <i class="fas fa-chart-bar"></i>
            <span>在线阅读</span>
          </a>
        </li>
        <li>
          <a href="/video_parse" class="nav-item">
            <i class="fas fa-video"></i>
            <span>B站视频解析</span>
          </a>
        </li>
        <li>
          <a href="/file_converter" class="nav-item">
            <i class="fas fa-file-contract"></i>
            <span>文件格式转换</span>
          </a>
        </li>
      </ul>
    </nav>

    <div class="sidebar-footer">
      <p>当前版本: {{ version }}</p>
      <p>开发者: {{ developer }}</p>
      <p>联系QQ: 393994653</p>
      <p>Github仓库: <a href="https://github.com/393994653/ZZH-Tool">ZZH-Tool</a></p>
      <p> &copy; 2025 开发者仪表盘</p>
    </div>
  </aside>

  <!-- 主内容区 -->
  <main class="main-content" id="mainContent">
    <!-- 顶部导航栏 -->
    <header class="top-navbar">
      <div class="left-section">
        <button class="sidebar-toggle" id="headerToggleBtn">
          <i class="fas fa-chevron-left"></i>
        </button>
        <h1>仪表盘</h1>
      </div>

      <div class="right-section">
        <!-- 主题切换按钮将由JavaScript自动添加 -->
        <div class="user-info">
          {% if user_info.avatar %}
          <img src="{{ url_for('get_avatar', filename=user_info.avatar) }}" alt="头像" class="user-avatar-img">
          {% else %}
          <div class="user-avatar-text">{{ user_info.username|first|upper }}</div>
          {% endif %}
          <span>{{ user_info.username }}</span>
        </div>
      </div>
    </header>

    <!-- 仪表盘内容 -->
    <div class="dashboard-content">
      <div class="welcome-card">
        <div class="welcome-text">
          <h2>欢迎使用 ZZH-Tool!</h2>
          <p>今天是 {{ current_date }}</p>
          <p>这是一个强大的工具集，帮助您更高效地工作和娱乐。</p>
        </div>
        <div class="welcome-image">
          <img src="https://img.freepik.com/free-vector/dashboard-analytics-concept-illustration_114360-745.jpg"
            alt="欢迎图片" />
        </div>
      </div>

      <!-- 天气信息卡片 -->
      <div class="weather-card" id="weatherCard">
        <div class="weather-header">
          <h3><i class="fas fa-cloud-sun"></i> 当前天气</h3>
          <button class="refresh-weather" id="refreshWeather">
            <i class="fas fa-sync-alt"></i>
          </button>
        </div>
        <div class="weather-content">
          <div class="weather-loading" id="weatherLoading">
            <div class="weather-spinner"></div>
            <p>正在获取天气信息...</p>
          </div>
          <div class="weather-main" id="weatherMain" style="display: none;">
            <div class="weather-icon-container">
              <div class="weather-icon" id="weatherIcon">
                <i class="fas fa-sun"></i>
              </div>
            </div>
            <div class="weather-info">
              <div class="weather-location">
                <span id="weatherLocation">--</span>
                <span class="weather-time" id="weatherTime">--</span>
              </div>
              <div class="weather-temp">
                <span id="weatherTemperature">--</span>
                <span class="temp-unit">°C</span>
              </div>
              <div class="weather-desc" id="weatherDescription">--</div>
            </div>
            <div class="weather-details">
              <div class="weather-detail">
                <i class="fas fa-tint"></i>
                <span>湿度</span>
                <span id="weatherHumidity">--%</span>
              </div>
              <div class="weather-detail">
                <i class="fas fa-wind"></i>
                <span>风速</span>
                <span id="weatherWind">-- m/s</span>
              </div>
              <div class="weather-detail">
                <i class="fas fa-location-arrow"></i>
                <span>风向</span>
                <span id="weatherWindDirection">--</span>
              </div>
              <div class="weather-detail">
                <i class="fas fa-temperature-low"></i>
                <span>体感</span>
                <span id="weatherFeelsLike">--°C</span>
              </div>
              <div class="weather-detail">
                <i class="fas fa-cloud-rain"></i>
                <span>降水量</span>
                <span id="weatherPrecipitation">--mm</span>
              </div>
              <div class="weather-detail">
                <i class="fas fa-tachometer-alt"></i>
                <span>气压</span>
                <span id="weatherPressure">--hPa</span>
              </div>
            </div>
          </div>
          <div class="weather-error" id="weatherError" style="display: none;">
            <i class="fas fa-exclamation-triangle"></i>
            <p>无法获取天气信息</p>
            <button class="retry-btn" id="retryWeather">重试</button>
          </div>
        </div>
      </div>

      <div class="dashboard-grid">

        <div class="dashboard-card">
          <div class="card-icon bg-purple-100">
            <div class="text-icon">C</div>
          </div>
          <h3>在线聊天</h3>
          <p>和在线的成员一起聊天</p>
          <a href="http://zhenghao.x3322.net:33000" class="card-link">开始聊天</a>
        </div>

        <div class="dashboard-card">
          <div class="card-icon bg-yellow-100">
            <div class="text-icon">A</div>
          </div>
          <h3>相册管理</h3>
          <p>存储和管理您的所有照片</p>
          <a href="http://zhenghao.x3322.net:32283" class="card-link">访问相册</a>
        </div>

        <div class="dashboard-card">
          <div class="card-icon bg-blue-100">
            <div class="text-icon">P</div>
          </div>
          <h3>个人网盘</h3>
          <p>存储和管理您的所有文件</p>
          <a href="http://zhenghao.x3322.net:32507" class="card-link">访问网盘</a>
        </div>

        <div class="dashboard-card">
          <div class="card-icon bg-green-100">
            <div class="text-icon">R</div>
          </div>
          <h3>在线阅读</h3>
          <p>在无聊时阅读一些小说</p>
          <a href="http://zhenghao.x3322.net:38083" class="card-link">开始阅读</a>
        </div>

        <div class="dashboard-card">
          <div class="card-icon bg-purple-100">
            <div class="text-icon">B</div>
          </div>
          <h3>B站视频解析</h3>
          <p>解析和下载B站视频</p>
          <a href="/video_parse" class="card-link">使用工具</a>
        </div>

        <div class="dashboard-card">
          <div class="card-icon bg-red-100">
            <div class="text-icon">T</div>
          </div>
          <h3>文件转换</h3>
          <p>转换不同格式的文件</p>
          <a href="/file_converter" class="card-link">转换文件</a>
        </div>

      </div>
    </div>
  </main>
</div>

<!-- JavaScript文件 -->
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}